<!DOCTYPE html>
<html lang="en">
<head>
	<link href='http://fonts.googleapis.com/css?family=Dosis' rel='stylesheet' type='text/css'>
	<meta charset="UTF-8">
	<title>LoriaMusic</title>
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link href="assets/css/flat-ui.min.css" rel="stylesheet">
    <link href="assets/css/icon-moon.css" rel="stylesheet">
	<link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/ng-tags-input.min.css">
</head>
<body ng-app="PlayerApp">
  <div ng-class="{'hide' : !smallSearch }" class="fading-search"></div>

<!-- NavBar -->

<!-- <nav ng-show="connected" id="topbar" class="navbar navbar-default" role="navigation"> -->
<nav ng-if="connected" id="topbar" class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->


    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" ng-controller="topbarController">


      <div class="col-sm-2">
        <ul class="nav navbar-nav navbar-left ul-pseudo">
          <li class="ul-pseudo">
            <div class="pseudo-navbar a-pseudo">


              <div class="btn-group" dropdown is-open="status.isopen">

                <button type="button" class="btn btn-pseudo dropdown-toggle" dropdown-toggle ng-disabled="disabled">
                  <i class="glyphicon glyphicon-user padding-i"></i>
                    {{user.username}}
                  <i class="icon-arrow-down4"></i>
                </button>
                  <ul class="dropdown-menu" role="menu">
                    <li><a class="dropdown-font" href="#/preferences"><i class="icon-menu-left icon-cog2"></i>Preferences</a></li>
                    <li><a class="dropdown-font" href="#/friends"><i class="icon-menu-left icon-heart"></i>Friends</a></li>
                    <li><a class="dropdown-font" ng-click="logout()" href="#"><i class="icon-menu-left icon-switch"></i>Logout</a></li>
                  </ul>

              </div>

            </div>
        </li>
      </ul>
    </div>

    <div class="col-sm-5">
        <form class="navbar-form" role="search">
          <div class="input-group input-search-bar">
            <input type="text" class="form-control input-search" ng-keyup="search()" ng-model="wordSearched.search" placeholder="Search" name="q">
            <div class="input-group-btn input-search-bar-button">
              <button class="btn btn-default input-search" type="submit"><i class="glyphicon glyphicon-search"></i></button>
            </div>
          </div>
        </form>
        <div class="result-searching" ng-class="{'hide' : !smallSearch}">
          <div class="result-searching-contain">
            <div class="search-title">
              <h4>Results</h4>
              <div class="more-results">
                <a href="#/search" ng-click="dismiss()">More results</a> or <a href="#/search" ng-click="dismiss(); searchGrooveshark()"> Search on Napster</a> 
             </div>
            </div>
            <div class="results-searching">
              <h1>Titles matching : {{wordSearched.search}}</h1>
              <div class="playlist-player" playlist-player ng-controller="SearchCtrl as controller" controller="controller" content="smallResItem" ng-class="{'col-sm-6 small':controller.config.small}"></div>
              <h1>Artists matching : {{wordSearched.search}}</h1>
              <div deckgrid class="deckgrid artist-search" source="smallResArtiste" cardTemplate="app/components/search/searchArtistView.html?t=000"></div>
              <div class="clearfix"></div>
              <h1>Albums matching : {{wordSearched.search}}</h1>
              <div deckgrid class="deckgrid artist-search" source="smallResAlbum" cardTemplate="app/components/search/searchArtistView.html?t=000"></div>
              <div class="clearfix"></div>
              
            </div>
          </div>
        </div>
      </div>


    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
<div class="contain">
  	<!-- Left Menu -->
  <div ng-if="connected" id="menu-left" class="col-lg-2 menu-left">
    <div class="left-menu" ng-class="{reducedChanging : small && playing}">
      <div class="sidebar-nav">
        <div class="navbar navbar-default" role="navigation">
          <div class="navbar-header">
            <span class="visible-xs navbar-brand">Sidebar menu</span>
          </div>
          <div class="navbar-collapse collapse sidebar-navbar-collapse">

            <ul class="nav navbar-nav">
              <li><a href="#/tops"><i class="icon-menu-left icon-trophy"></i>Top tracks</a></li>
              <li><a href="#/radios"><i class="icon-menu-left icon-feed"></i>Radio</a></li>
              <li><a href="#/history"><i class="icon-menu-left icon-clock"></i>My History</a></li>
              
            </ul>

            <div ng-controller="menuController">
            <ul class="ul-menuleft">
              <li>
              	<h3 class="titre-menuleft">
              		<a href="#/playlists">PLAYLIST</a> <a ng-click="changeNewPlaylist()" href="" class="add-playlist-icon" tooltip="Create new playlist" title="Create new playlist"><i class="icon-plus iconPlaylist"></i></a>
          		</h3>
      		</li>
              <div>
                <input ng-model="titleNewPlaylist" ng-if="newPlaylist" type="text" class="form-control input-new-playlist" placeholder="New Playlist" aria-describedby="basic-addon1" ng-new-playlist="changeNewPlaylist()">
              </div>
              <li class="playlist li-repeat-playlist" ng-repeat="playlist in userPlaylist" ng-controller="playlistController" ng-mouseenter="playlistliHover=true" ng-mouseleave="playlistliHover=false">
                <div class="one-playlist">
                  <div class="playlist-name playlist-content">
  	                <div class="ellipsis" ng-mouseenter="playlistHover=true" ng-class="{active: playlistHover|| playlistliHover}" ng-mouseleave="playlistHover=false">
  		               <!--  <a ng-click="$root.typeEcoute=0;launchPlaylist(playlist.id)" ng-if="!getEditPlaylist()" class="playlistFocus" href="">
  		                  {{playlist.nom}}
  		                </a> -->
                      <a href="#/playlist/{{playlist.id}}" ng-click="$root.activePlaylist=playlist.id;" ng-if="!getEditPlaylist()" class="playlistFocus" href="">
                        {{playlist.nom}}
                      </a>
  	                </div>


                  	<input ng-model="playlist.nom" ng-if="getEditPlaylist()" type="text" class="form-control input-edit-playlist-name" value="{{playlist.name}}" aria-describedby="basic-addon1" ng-edit-playlist-name="changeEditPlaylistFalse()">
                </div>
                  <div class="playlist-icons playlist-content playlist-hover">

                    <a href="" ng-click="$root.typeEcoute=4;launchPlaylist(playlist.id)"><i tooltip="Launch playlist"class="icon-play2 icon-menu-left icon-play-playlist"></i></a>

                    <a href="" ng-click="changeEditPlaylist(playlist)" ng-edit-playlist="editPlaylist" show-tag="isCollapsed">
                      <i tooltip="Edit playlist name" class="icon-pencil"></i>
                    </a>
                    <a href="" ng-controller="ModalDemoCtrl" ng-click="open('sm', playlist)"><i tooltip="Delete playlist" class="icon-trash"></i></a>
                    <a class="icon-tag-list" href="" ng-click="isCollapsed = !isCollapsed; getPlaylistTag(playlist)" ng-style="styleIconTag" ng-show-tag-playlist="isCollapsed" edit-playlist="editPlaylist">
                      <i tooltip="Edit playlist tags" class="icon-tag"></i>
                    </a>
                  </div>

                  <div class="playlist-tags" collapse="isCollapsed">
                    <div class="well well-lg playlist-tag">

                      <tags-input ng-if="playlist.tagLoaded" class="tags-playlist" ng-model="playlist.tags" on-tag-added="addTagPlaylist(playlist)" on-tag-removed="deleteTagPlaylist(playlist,$tag)" ng-pattern="tagsPattern"  display-property="libelle"></tags-input>


                    </div>
                  </div>

                </div>


              </li>
            </ul>

          </div>

          <!-- Track history -->

            <div ng-controller="HistoryCtrl as controllerHistory">
            <ul class="ul-menuleft">

              <li><h3 class="titre-menuleft">LAST TRACKS</h3></li>
              <li class="track li-repeat-track" ng-repeat="track in $root.historyTracks">

                <div class="one-track">
                  <a href="" ng-click="$root.typeEcoute = 0;launchPlay(track);" ng-mouseenter="hoverHistory=true" ng-mouseleave="hoverHistory=false">
                    <i ng-if="!hoverHistory" class="icon-music icon-menu-left"></i>
                    <i ng-if="hoverHistory" class="icon-play2 icon-menu-left"></i>
                    <span tooltip="{{track.titre}}">{{track.titre}}</span>

                  </a>
                </div>


              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>


  <div class="content" ng-class="{'col-lg-5 centre' : connected}">
    <div ng-if="!playing || small" class="changing" ng-class="{reducedChanging : small && playing}" ng-view>
      <div style="clear:both"></div>
    </div>


  </div>
  <div ng-if="connected" class="col-lg-5 droit" ng-class="{reducedChanging : small && playing}">
    <div class="right-menu" ng-class="{reducedChanging : small && playing}">

    <div ng-if="!playing" ng-controller="ArtisteCoverCtrl">
        <h1>ARTIST LIBRARY</h1>
        <div deckgrid class="deckgrid artists-library" source="itemartistes" cardTemplate="app/components/library/libraryView.html?t=0000"></div>
        <div style="clear:both"></div>
    </div>
    <div ng-if="playing" ng-controller="TopsCtrl as controller">
        <h1>Suggestions</h1>
        <div ng-if="controller.tops" class="playlist-player" playlist-player controller="controller" content="controller.tops" withPlayer="false" ng-class="{'col-sm-6 small':controller.config.small}">
          <div style="clear:both"></div>
    </div>
    <div style="clear:both"></div>
  </div>
  </div>



</div>
<div ng-controller="PlayerCtrl as controller" ng-if="connected && playing && small" ng-class="{reduced : small}" class="player-reduced">
      <div class="videogular-container" ng-class="{'col-sm-6 small': small}">
        <videogular vg-player-ready="controller.onPlayerReady" vg-complete="controller.onCompleteVideo" vg-theme="controller.config.theme.url">
              <div ng-if="small" class="metadata">
        <div class="playlist-player" playlist-player controller="controller" type="metadata" content="playlist" with-player="true" ng-class="{'col-sm-6 small':small}">
        </div>
        <div class="metadata-artist">
        </div>
      </div>
          <vg-video vg-src="playlist[controller.currentVideo].sources"
            vg-tracks="controller.config.tracks" vg-preload="controller.config.preload">
          </vg-video>

          <vg-controls id="controlsBar">
            <control-player></control-player>
          </vg-controls>
          <div ng-class="{'scrubs': small}">
          <!--<vg-time-display ng-class="{'hide' : !small}" class="currentTime">{{ controller.API.currentTime | date:'mm:ss' }}</vg-time-display>
          <vg-scrubBar>
          
            <vg-scrubbarcurrenttime></vg-scrubbarcurrenttime>
            
          </vg-scrubBar>
          <vg-time-display ng-class="{'hide' : !small}" class="totalTime">{{ controller.API.totalTime | date:'mm:ss' }}</vg-time-display>-->
          <vg-time-display class="currentTime"><span ng-bind="$root.currentTime"></span></vg-time-display>
          <vg-scrubBar>
          
            <vg-scrubbarcurrenttime></vg-scrubbarcurrenttime>
            
          </vg-scrubBar>
          <vg-time-display class="totalTime"><span ng-bind="$root.totalTime"></span></vg-time-display>
        </div>
          <vg-overlay-play ng-class="{'hide': small}"></vg-overlay-play>
          <vg-poster-image vg-url='playlist[controller.currentVideo].urlCover'></vg-poster-image>
        </videogular>
      </div><div ng-if="!small" class="playlist-player" draggable="true" playlist-player controller="controller" content="playlist" with-player="true" ng-class="{'col-sm-6 small':small}">
      </div><div ng-if="small" class="playlist-player playlist-small" draggable="true" playlist-player controller="controller" type="smallPlaylist" content="playlist" with-player="true" ng-class="{'col-sm-6 small':small}">
      </div>
    </div> 
<!--   ############## LIB JS ################# -->
	<script src="assets/libs/angular.min.js"></script>
  <!-- <script src="assets/libs/bower_components/angular/angular.js"></script> -->
	<script src="assets/libs/angular-route.min.js"></script>
	<script src="assets/libs/angular-resource.min.js"></script>
  <script src="//connect.soundcloud.com/sdk.js"></script>

	<script src="assets/libs/angular-cookies.min.js"></script>
	<script src="assets/libs/angular-deckgrid.js"></script>
	<script src="assets/libs/ui-bootstrap-0.12.0.min.js"></script>
	<script src="assets/libs/ui-bootstrap-tpls-0.12.0.min.js"></script>
	<script src="assets/libs/ng-tags-input.min.js"></script>
	<script src="assets/libs/bower_components/angular-sanitize/angular-sanitize.min.js"></script>
	<script src="assets/libs/bower_components/videogular/videogular.js"></script>
  <script src="assets/libs/bower_components/ngDraggable/ngDraggable.js"></script>
  <script src="assets/libs/bower_components/videogular-youtube/youtube.js"></script>
	<script src="assets/libs/bower_components/videogular-controls/controls.js"></script>
	<script src="assets/libs/bower_components/videogular-overlay-play/overlay-play.js"></script>
	<script src="assets/libs/bower_components/videogular-poster/poster.js"></script>
	<script src="assets/libs/bower_components/videogular-buffering/buffering.js"></script>
	<script src="app/app.module.js"></script>
	<script src="app/app.routes.js"></script>
	<script src="assets/libs/jquery-1.11.1.min.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/js/flat-ui.min.js"></script>
	<script src="assets/js/flatuiApp.js"></script>
	<script src="app/components/home/homeController.js"></script>
	<script src="app/components/home/homeService.js"></script>
	<script src="app/shared/form/formDirective.js"></script>
	<script src="app/components/homeConnected/homeConnectedController.js"></script>
	<script src="app/components/sandbox/sandboxController.js"></script>
	<script src="app/components/preferences/preferencesController.js"></script>
	<script src="app/shared/clickLink/clickLinkDirective.js"></script>
	<script src="app/components/player/playerController.js"></script>
	<script src="app/shared/player/controlPlayerDirective.js"></script>
	<script src="app/shared/player/playlistPlayerDirective.js"></script>
	<script src="app/components/menu/menuController.js"></script>
	<script src="app/components/history/historyController.js"></script>
	<script src="app/components/menu/playlistController.js"></script>
	<script src="app/components/topbar/topbarController.js"></script>
  <script src="app/components/cover/genreCoverController.js"></script>
  <script src="app/components/cover/artisteCoverController.js"></script>
	<script src="app/shared/menuleft/showTagPlaylist.js"></script>
	<script src="app/shared/menuleft/editPlaylist.js"></script>
	<script src="app/shared/menuleft/editPlaylistName.js"></script>
  <script src="app/shared/menuleft/deletePlaylist.js"></script>
   <script src="app/shared/player/addToPlaylist.js"></script>
	<script src="app/shared/menuleft/newPlaylist.js"></script>
	<script src="app/components/radios/radiosController.js"></script>
  <script src="app/components/tops/topsController.js"></script>
  <script src="app/components/history/historyController.js"></script>
  <script src="app/components/search/searchController.js"></script>
  <script src="app/components/friends/friendsController.js"></script>
  <script src="app/components/artist/artistController.js"></script>
  <script src="app/components/playlists/playlistsController.js"></script>
  <script src="assets/libs/rhapsody.js"></script>




</body>
</html>
